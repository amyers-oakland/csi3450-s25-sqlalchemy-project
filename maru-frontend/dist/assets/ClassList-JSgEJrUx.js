import{r as n,j as e}from"./index-BGu0QCQO.js";function v({onSubmit:o,onCancel:a}){const[l,i]=n.useState("Beginner"),[r,s]=n.useState("Monday"),[c,j]=n.useState("17:00"),[d,x]=n.useState(""),[p,h]=n.useState([]),[u,m]=n.useState("");n.useEffect(()=>{fetch("/api/instructors.php").then(t=>t.json()).then(t=>{h(t||[])}).catch(()=>h([]))},[]);function f(t){t.preventDefault(),o({Level:l,DayOfWeek:r,Time:c,Location:d,InstructorID:u})}return e.jsxs("form",{onSubmit:f,style:{marginTop:10},children:[e.jsxs("label",{children:["Level",e.jsxs("select",{value:l,onChange:t=>i(t.target.value),children:[e.jsx("option",{children:"Beginner"}),e.jsx("option",{children:"Intermediate"}),e.jsx("option",{children:"Advanced"})]})]}),e.jsxs("label",{children:["Day",e.jsxs("select",{value:r,onChange:t=>s(t.target.value),children:[e.jsx("option",{children:"Monday"}),e.jsx("option",{children:"Tuesday"}),e.jsx("option",{children:"Wednesday"})]})]}),e.jsxs("label",{children:["Time ",e.jsx("input",{type:"time",value:c,onChange:t=>j(t.target.value),required:!0})]}),e.jsxs("label",{children:["Location ",e.jsx("input",{value:d,onChange:t=>x(t.target.value),required:!0})]}),e.jsxs("label",{children:["Instructor",e.jsxs("select",{value:u,onChange:t=>m(t.target.value),children:[e.jsx("option",{value:"",children:"(none)"}),p.map(t=>e.jsx("option",{value:t.StudentID,children:t.Name},t.StudentID))]})]}),e.jsxs("div",{style:{marginTop:8},children:[e.jsx("button",{type:"submit",children:"Save"})," ",e.jsx("button",{type:"button",onClick:a,children:"Cancel"})]})]})}function b(){const[o,a]=n.useState([]),[l,i]=n.useState(!1);n.useEffect(()=>{fetch("/api/classes.php").then(s=>s.json()).then(a).catch(()=>a([]))},[]);async function r(s){await fetch("/api/classes.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});const c=await fetch("/api/classes.php");a(await c.json()),i(!1)}return e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h2",{children:"Classes"}),e.jsx("button",{onClick:()=>i(s=>!s),children:"+ Add"})]}),l&&e.jsx(v,{onSubmit:r,onCancel:()=>i(!1)}),e.jsxs("table",{style:{width:"100%",marginTop:10},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ID"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Day"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Instructor"})]})}),e.jsx("tbody",{children:o.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:s.ClassID}),e.jsx("td",{children:s.Level}),e.jsx("td",{children:s.DayOfWeek}),e.jsx("td",{children:s.Time}),e.jsx("td",{children:s.Location}),e.jsx("td",{children:s.InstructorName||"-"})]},s.ClassID))})]})]})}export{b as default};
