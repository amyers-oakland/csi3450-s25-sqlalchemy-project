import{r as n,j as t}from"./index-BGu0QCQO.js";function j(){const[o,a]=n.useState([]),[u,r]=n.useState([]),[s,l]=n.useState(""),[i,h]=n.useState(""),[c,d]=n.useState("");n.useEffect(()=>{fetch("/api/meetings.php").then(e=>e.json()).then(a).catch(()=>a([])),fetch("/api/students.php").then(e=>e.json()).then(r).catch(()=>r([]))},[]);async function p(e){if(e.preventDefault(),!s||!i)return d("Choose both");await fetch("/api/attendance.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({MeetingID:+s,StudentID:+i})}),d("Recorded")}return t.jsxs("div",{children:[t.jsx("h2",{children:"Record Attendance"}),c&&t.jsx("div",{style:{color:"green"},children:c}),t.jsxs("form",{onSubmit:p,children:[t.jsxs("label",{children:["Meeting",t.jsxs("select",{value:s,onChange:e=>l(e.target.value),required:!0,children:[t.jsx("option",{value:"",children:"-- select --"}),o.map(e=>t.jsx("option",{value:e.MeetingID,children:e.MeetingText||`${e.Level} ${e.MeetingDate}`},e.MeetingID))]})]}),t.jsxs("label",{children:["Student",t.jsxs("select",{value:i,onChange:e=>h(e.target.value),required:!0,children:[t.jsx("option",{value:"",children:"-- select --"}),u.map(e=>t.jsxs("option",{value:e.StudentID,children:[e.FirstName," ",e.LastName]},e.StudentID))]})]}),t.jsx("div",{style:{marginTop:8},children:t.jsx("button",{type:"submit",children:"Record"})})]})]})}export{j as default};
